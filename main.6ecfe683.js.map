{"version":3,"sources":["scripts/burgerMenu.js","scripts/animOnScroll.js","scripts/popup.js","scripts/main.js"],"names":["refs","menuIconClose","document","querySelector","asideMenu","body","openBurgerMenu","e","preventDefault","classList","add","bodyLock","addEventListener","closeBurgerMenu","bodyUnlock","remove","removeEventListener","lockPaddingValue","window","innerWidth","offsetWidth","style","paddingRight","animItems","querySelectorAll","animOnScroll","params","i","length","animItem","animItemHeight","offsetHeight","animItemOffset","offset","top","animItemPoint","innerHeight","scrollY","scrollX","contains","el","rect","getBoundingClientRect","scrollLeft","documentElement","scrollTop","left","unlock","timeout","lockPadding","popupOpen","curentPopup","popupActive","popupClose","target","closest","onKeydownCloseModal","doUnlock","popupImg","src","alt","forEach","setTimeout","evt","code","menuIconOpen","menuBurgerLinks","popupLinks","popupImages","popupCloseIcon","menuBurgerLink","linkId","getAttribute","replace","curentView","getElementById","scrollIntoView","behavior","popupImage","popupSrc","previousSibling","popupAlt","popupLink","popupName"],"mappings":"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","file":"main.6ecfe683.js","sourceRoot":"..\\src","sourcesContent":["const refs = {\n  menuIconClose: document.querySelector('.icon--close'),\n  asideMenu: document.querySelector('.page__menu'),\n  body: document.querySelector('.page__body'),\n};\n\nexport const openBurgerMenu = function(e) {\n  e.preventDefault();\n  refs.asideMenu.classList.add('open-menu');\n  bodyLock();\n  refs.menuIconClose.addEventListener('click', closeBurgerMenu);\n};\n\nexport const closeBurgerMenu = function(e) {\n  e.preventDefault();\n  bodyUnlock();\n  refs.asideMenu.classList.remove('open-menu');\n  refs.menuIconClose.removeEventListener('click', closeBurgerMenu);\n};\n\nfunction bodyLock() {\n  const lockPaddingValue = window.innerWidth - document\n    .querySelector('.page__body').offsetWidth + 'px';\n\n  refs.body.style.paddingRight = lockPaddingValue;\n  refs.body.classList.add('lock');\n};\n\nfunction bodyUnlock() {\n  refs.body.style.paddingRight = '0px';\n  refs.body.classList.remove('lock');\n};\n","const animItems = document.querySelectorAll('.js-anim-items');\n\nexport const animOnScroll = function(params) {\n  for (let i = 0; i < animItems.length; i++) {\n    const animItem = animItems[i];\n    const animItemHeight = animItem.offsetHeight;\n    const animItemOffset = offset(animItem).top;\n    const animStart = 4;\n\n    let animItemPoint = window.innerHeight - animItemHeight / animStart;\n\n    if (animItemHeight > window.innerHeight) {\n      animItemPoint = window.innerHeight - window.innerHeight / animStart;\n    }\n\n    if ((window.scrollY > (animItemOffset - animItemPoint))\n      && (window.scrollX < (animItemOffset + animItemHeight))) {\n      animItem.classList.add('active');\n    } else {\n      if (!animItem.classList.contains('js-anim-no-hide')) {\n        animItem.classList.remove('active');\n      }\n    }\n  }\n};\n\nfunction offset(el) {\n  const rect = el.getBoundingClientRect();\n  const scrollLeft = window.scrollX || document.documentElement.scrollLeft;\n  const scrollTop = window.scrollY || document.documentElement.scrollTop;\n\n  return { top: rect.top + scrollTop, left: rect.left + scrollLeft };\n}\n","let unlock = true;\nconst timeout = 800;\n\nconst refs = {\n  lockPadding: document.querySelectorAll('.lock-padding'),\n  body: document.querySelector('.page__body'),\n};\n\nexport const popupOpen = function(curentPopup) {\n  if (curentPopup && unlock) {\n    const popupActive = document.querySelector('.popup__open');\n\n    if (popupActive) {\n      popupClose(popupActive, false);\n    } else {\n      bodyLock();\n    }\n    curentPopup.classList.add('popup__open');\n\n    curentPopup.addEventListener('click', function(e) {\n      if (!e.target.closest('.popup__content')) {\n        popupClose(e.target.closest('.popup'));\n      }\n    });\n\n    document.addEventListener('keydown', onKeydownCloseModal);\n  }\n};\n\nexport const popupClose = function(popupActive, doUnlock = true) {\n  if (unlock) {\n    popupActive.classList.remove('popup__open');\n    window.removeEventListener('keydown', onKeydownCloseModal);\n\n    const popupImg = popupActive.querySelector('.popup__image');\n\n    if (popupImg) {\n      popupImg.src = '';\n      popupImg.alt = '';\n    }\n\n    if (doUnlock) {\n      bodyUnlock();\n    }\n  }\n};\n\nfunction bodyLock() {\n  const lockPaddingValue = window.innerWidth - document\n    .querySelector('.page__body').offsetWidth + 'px';\n\n  if (refs.lockPadding.length > 0) {\n    refs.lockPadding.forEach(el => {\n      el.style.paddingRight = lockPaddingValue;\n    });\n  }\n\n  refs.body.style.paddingRight = lockPaddingValue;\n  refs.body.classList.add('lock');\n\n  unlock = false;\n\n  setTimeout(function() {\n    unlock = true;\n  }, timeout);\n};\n\nfunction bodyUnlock() {\n  setTimeout(function() {\n    refs.lockPadding.forEach(el => {\n      el.style.paddingRight = '0px';\n    });\n    refs.body.style.paddingRight = '0px';\n    refs.body.classList.remove('lock');\n  }, timeout);\n\n  unlock = false;\n\n  setTimeout(function() {\n    unlock = true;\n  }, timeout);\n}\n\nfunction onKeydownCloseModal(evt) {\n  if (evt.code !== 'Escape') {\n    return;\n  };\n\n  const popupActive = document.querySelector('.popup__open');\n\n  popupClose(popupActive);\n};\n","import { openBurgerMenu, closeBurgerMenu } from './burgerMenu';\nimport { animOnScroll } from './animOnScroll';\nimport { popupOpen, popupClose } from './popup';\n\nconst refs = {\n  menuIconOpen: document.querySelector('.icon--menu'),\n  menuBurgerLinks: document.querySelectorAll('.nav__link'),\n  animItems: document.querySelectorAll('.js-anim-items'),\n  popupLinks: document.querySelectorAll('.popup-link'),\n  popupImages: document.querySelectorAll('.popup-link .detail__photo'),\n  popupImg: document.querySelector('.popup__image'),\n  popupCloseIcon: document.querySelectorAll('.close-popup'),\n};\n\nrefs.menuIconOpen.addEventListener('click', openBurgerMenu);\n\nif (refs.menuBurgerLinks.length > 0) {\n  refs.menuBurgerLinks.forEach(menuBurgerLink => {\n    menuBurgerLink.addEventListener('click', function(e) {\n      const linkId = menuBurgerLink.getAttribute('href').replace('#', '');\n      const curentView = document.getElementById(linkId);\n\n      if (!curentView) {\n        closeBurgerMenu(e);\n      } else {\n        curentView.scrollIntoView({ behavior: 'smooth' });\n        closeBurgerMenu(e);\n      }\n    });\n  });\n}\n\nif (refs.animItems.length > 0) {\n  window.addEventListener('scroll', animOnScroll);\n}\n\nsetTimeout(() => {\n  animOnScroll();\n}, 300);\n\nif (refs.popupImages.length > 0) {\n  refs.popupImages.forEach(popupImage => {\n    popupImage.addEventListener('click', function(e) {\n      const popupSrc = popupImage.previousSibling\n        .previousSibling.getAttribute('srcset');\n      const popupAlt = popupImage.getAttribute('alt');\n\n      refs.popupImg.src = `${popupSrc}`;\n      refs.popupImg.alt = `${popupAlt}`;\n    });\n  });\n}\n\nif (refs.popupLinks.length > 0) {\n  refs.popupLinks.forEach(popupLink => {\n    popupLink.addEventListener('click', function(e) {\n      const popupName = popupLink.getAttribute('href').replace('#', '');\n      const curentPopup = document.getElementById(popupName);\n\n      popupOpen(curentPopup);\n      e.preventDefault();\n    });\n  });\n}\n\nif (refs.popupCloseIcon.length > 0) {\n  refs.popupCloseIcon.forEach(el => {\n    el.addEventListener('click', function(e) {\n      popupClose(el.closest('.popup'));\n      e.preventDefault();\n    });\n  });\n}\n"]}